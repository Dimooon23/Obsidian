# EX 2

### 1. Création des sous-répertoires :

```bash
mkdir trav1 trav2 trav3
```

### 2. Copier les fichiers `.h` commençant par a, b, c ou d de `/usr/include` vers `trav1` :

```bash
cp /usr/include/[a-d]*.h ~/trav1
```

### 3. Copier les fichiers commençant par trois caractères quelconques, suivis d'une lettre entre `e` et `z`, terminant par `.h`, de `/usr/include` vers `trav2` :

```bash
cp /usr/include/???[e-z].h ~/trav2
```

### 4. Lister le contenu de `trav1` et `trav2` :

```bash
ls -C ~/trav1 ~/trav2
```

### 5. Visualiser le répertoire courant et choisir `trav3` comme répertoire de travail :

```bash
pwd
cd trav3
```

### 6. Copier les fichiers `a.out.h`, `crypt.h`, et `math.h` depuis un répertoire existant vers `trav3` :

```bash
cp ~/trav1/a.out.h ~/trav1/crypt.h ~/trav1/math.h ~/trav3
```

### 7. Renommer les fichiers `aliases.h` et `math.h` :

```bash
mv ~/trav1/aliases.h ~/trav1/Aliases.H
mv ~/trav3/math.h ~/trav3/Math.H
```

### 8. Effacer les fichiers dont le nom commence par `cry` dans `trav1` :

```bash
rm ~/trav1/cry*.h
```

### 9. Supprimer le répertoire `trav3` :

```bash
rm -r ~/trav3
```


# DEVOIRS
## VIMTUTOR

### 1. Commandes de modification (édition) du texte

|**Commande**|**Mode**|**Action**|**Explication détaillée**|
|---|---|---|---|
|`p`|Normal|Coller|Colle le contenu précédemment supprimé ou copié après la position du curseur.|
|`u`|Normal|Annuler / Revenir en arrière|Annule la dernière modification effectuée.|
|`r` + _lettre_|Normal|Remplacer un caractère|Remplace le caractère sous le curseur par la lettre spécifiée. Exemple : `ra` remplacera le caractère sous le curseur par un « a ».|
|`ce`|Normal|Changer jusqu’à la fin du mot|Supprime du curseur jusqu’à la fin du mot, puis passe en mode insertion pour permettre de taper le nouveau texte.|
|`c{nombre}`|Normal|Changer un nombre donné de caractères|Supprime le nombre indiqué de caractères à partir du curseur et passe en mode insertion. Exemple : `c3` supprime les 3 caractères suivants.|
|`c$`|Normal|Changer jusqu’à la fin de la ligne|Supprime le texte du curseur jusqu’à la fin de la ligne et passe en mode insertion.|
|`cw`|Normal|Changer le mot|Supprime le mot entier à partir du curseur (jusqu’au début du mot suivant) et passe en mode insertion.|
|`o`|Normal|Ouvrir une nouvelle ligne|Crée une nouvelle ligne _sous_ la ligne courante et passe en mode insertion pour y taper du texte.|
|`R`|Normal|Remplacer en mode « overtype » (remplacement multiple)|Permet de remplacer plusieurs caractères sans avoir à repasser en mode insertion à chaque remplacement (les caractères sont écrasés au fur et à mesure).|
|`y`|Normal|Copier (yank)|Copie le texte sélectionné ou le texte sur une ligne (selon le mouvement utilisé) dans le tampon de Vim.|

_Remarque : La commande `p` est utilisée aussi bien pour le collage après une copie (`y`) que pour le contenu supprimé avec une commande de suppression ou de changement._

---

### 2. Commandes de recherche et de configuration de la casse

|**Commande**|**Mode**|**Action**|**Explication détaillée**|
|---|---|---|---|
|`/Mot`|Normal|Recherche textuelle|Lance une recherche dans le document pour le mot « Mot ». Le curseur se positionne sur la première occurrence trouvée.|
|`/Mot\c`|Normal|Recherche textuelle insensible à la casse|Lance une recherche pour « Mot » sans tenir compte des majuscules/minuscules grâce au `\c`.|
|`:set ic`|Commande|Activer la recherche insensible à la casse|Configure Vim pour ignorer la casse lors de toutes les recherches (option _ignorecase_ activée).|

---

### 3. Exécution de commandes externes et accès à l’aide

|**Commande**|**Mode**|**Action**|**Explication détaillée**|
|---|---|---|---|
|`:! <commande>`|Commande|Exécuter une commande externe|Permet d’exécuter une commande du système (par exemple `:!ls`) sans quitter Vim.|
|`:help`|Commande|Afficher l’aide|Ouvre le manuel d’aide de Vim, qui fournit des informations détaillées sur toutes les commandes et options disponibles.|

---

### 4. Commandes de sauvegarde et de sortie

|**Commande**|**Mode**|**Action**|**Explication détaillée**|
|---|---|---|---|
|`<Esc> :wq <Enter>`|Normal/Commande|Sauvegarder et quitter|Sauvegarde le fichier courant et quitte Vim. (La touche `<Esc>` permet de sortir du mode insertion, puis `:wq` enregistre et quitte.)|
|`<Esc> :q! <Enter>`|Normal/Commande|Quitter sans sauvegarder|Quitte Vim en annulant toutes les modifications apportées au fichier. (Utilisé en cas d’erreurs ou de modifications non désirées.)|
|`:w NOM`|Commande|Enregistrer sous un nouveau nom|Sauvegarde le fichier courant sous le nom spécifié (remplace « NOM » par le nom de fichier souhaité).

### Brut Notes
k : haut
l : droit
j : bas
h : gauche
0 : Revenir su début de la ligne
G : Aller a la fin du fichier
CTRL-G : Afficher la position
nombre G : Deplacer au numero de la ligne


\<Escape\> : Quitter l'Edition

x : effacer le caractère sous le curseur
i : insérer du texte avant le curseur
A : inérer du texte à la fin de la ligne
dw : Effacer le mot (Se placer avec le curseur au début du mot)
dd : Supprimer une ligne entière
d2w
d$ : Effacer toute la ligne à partir du curseur 
p : Coller ce que était supprimer
u : Revenir en arrière
r+(la lettre a mettre) : Remplacer la lettre sous le curseur
ce : Supprimer et changer la fin du mot
c + (nombre)
c$
cw
o : Ouvir la ligne sous le curseur
R : Remplacer plusieurs characters
y : copier
p : coller

/Mot : recherche textuelle
/Mot\c : non sensible a la case
:set ic


:! : Executer commande externe

:help


\<Escape\> + :wq + \<Enter\> : Sauvegarder et quitter
\<Escape\> + :q! + \<Enter\> : Quitter vim sans sauver le fichier 
:w NOM : Enregistrer le fichier

? Enregistrer le fichier vimrc?

## EX3

2. Exercer les commandes cat, head, tail, less et more. Pour less exercer ses propres sous-commandes.

3. Prendre deux fichiers texte identiques, en modifier un et lister les différences ( diff et cmp ).

4. Que fournissent les commandes suivantes ? Écrire une phrase compréhensible par une personne extérieure du domaine.

```
#Affiche le nombre de ligne dans le fichier /etc/passwd
wc -l /etc/passwd

#Affiche le contenue du fichier
more /etc/passwd

#Recherche les mots qui contiennent li
grep li /etc/passwd

#Je sais pas
grep ^li /etc/passwd

#Sort tout les lignes ou 0 apparait
grep 0 /etc/passwd
cut -d: -f1,4 /etc/passwd 
more /etc/group
cut -d: -f1,3 /etc/group
```

5. Exécuter les commandes ci-dessous, comprendre ce qu’il se passe. Écrire une phrase compréhensible par une personne extérieure du domaine.

```
cat /etc/passwd | cut -d: -f1
cat /etc/passwd | cut -d: -f1,6
cat /etc/passwd | cut -d: -f1,6 | less
cat /etc/passwd | cut -d: -f1,4 | grep ':101$'
cat /etc/group | grep ^user
cat /etc/passwd | cut -d: -f1,6 | tee ./liste_comptes 
sort < ./liste_comptes > ./liste_comptes.triee 
cat /etc/passwd | cut -d: -f1,6 | tee ./liste_comptes | less
cat /etc/passwd | cut -d: -f1,4 >> ./liste_comptes
```

6. Écrire/Construire les commandes fournissant:

	1. la liste des noms d’utilisateurs locaux avec leurs UID et GID (sur écran et sur fichier)
	2. la liste des noms des groupes locaux
	3. le nombre de comptes locaux
	4. le nombre de groupes locaux

7. Exercer la commande `find` dans les 4 cas suivants:

	1. recherche selon le nom du fichier
	2. recherche selon le code de permission
	3. recherche selon la date de modification
	4. recherche selon un code de permission et le modifier

8. Créez une instruction qui permet de compter le nombre de fichiers et de répertoires contenus dans un répertoire et ses descendants.
	1. Modifiez l’instruction sous 1) pour ne compter que les fichiers ordinaires.
	2. Modifiez l’instruction sous 1) pour ne compter que les répertoires.

### 8

Construire la commande qui

- permet de compter le nombre d’utilisateurs qui possède un GID compris entre 100 et 199.
- indique le nom de l’utilisateur et l’IP de sa machine connectés au système sur le terminal 4 (/dev/pts/4)

aide : utiliser la commande tr (translate) : `tr –s ' ' ':' file(s)`

### 9

Analyser les commandes suivantes

```
find / -user "$USER"
find / -user "$USER" 2>/dev/null
```