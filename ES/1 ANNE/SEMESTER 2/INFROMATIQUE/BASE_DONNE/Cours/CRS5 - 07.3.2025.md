Créer une modèle pour stocker les informations suivantes:
![[do-genealogie.svg]]

MCD / MLD : 
![[Pasted image 20250307160933.png]]Code : 

```SQL title:"Insert code"
CREATE DATABASE ARBRE_GEONOLOGIQUE;

CREATE TABLE PERSONNE(
  uuid int NOT NULL AUTO_INCREMENT,
  prenom varchar(255) NOT NULL,
  ddbn DATE NOT NULL,
  Couplet_uuid int,
  PRIMARY KEY (uuid) FOREIGN KEY (Couplet_uuid) REFERENCES Couplet(uuid)
);

CREATE TABLE COUPLE(
  uuid int NOT NULL AUTO_INCREMENT,
  Pers_partenaire1 int NOT NULL,
  Pers_partenaire2 int NOT NULL,
  debutCouple DATE NOT NULL,
  finCouple DATE,
  PRIMARY KEY (uuid),
  FOREIGN KEY (Pers_partenaire1) REFERENCES PERSONNE(uuid),
  FOREIGN KEY (Pers_partenaire2) REFERENCES PERSONNE(uuid),
  CONSTRAINT checknotsame CHECK(Pers_partenaire1 <> Pers_partenaire2)
);
```

# requetes
1. Afficher les enfants d'Elsbeth
```
SELECT e.prenom
FROM PERSONNES p
INNER JOIN COUPLES c ON (p.uuid = c.partenaire1_personnes_uuid OR p.uuid = c.partenaire2_personnes_uuid)
LEFT JOIN PERSONNES e ON c.uuid = e.parents_couples_uuid
WHERE p.prenom ILIKE 'Elsbeth'
```

2. Afficher les parents de Dominique
```
SELECT p1.prenom, p2.prenom
FROM PERSONNES e
INNER JOIN COUPLES c ON c.uuid = e.parents_couples_uuid
LEFT JOIN PERSONNES p1 ON p1.uuid = c.partenaire1_personnes_uuid
LEFT JOIN PERSONNES p2 ON p2.uuid = c.partenaire2_personnes_uuid
WHERE e.prenom ILIKE 'dominique'
```

3. Afficher les enfants de Jean
```
SELECT e.prenom
FROM PERSONNES p
INNER JOIN COUPLES c ON (p.uuid = c.partenaire1_personnes_uuid OR p.uuid = c.partenaire2_personnes_uuid)
LEFT JOIN PERSONNES e ON c.uuid = e.parents_couples_uuid
WHERE p.prenom ILIKE 'Jean'
```

4. Afficher les enfants de Jean
```
SELECT p1.prenom, p2.prenom
FROM PERSONNES e
INNER JOIN COUPLES c ON c.uuid = e.parents_couples_uuid
LEFT JOIN PERSONNES p1 ON p1.uuid = c.partenaire1_personnes_uuid
LEFT JOIN PERSONNES p2 ON p2.uuid = c.partenaire2_personnes_uuid
WHERE e.prenom ILIKE 'patrice'
```